function submitAnswers() {
  var userResponses = questions.map(function(question, index) {
    var response = {
      AssessmentQuestionID: question.AssessmentQuestionID,
      SelectedOptionIDs: [] // Use an array to handle both single and multiple choice
    };

    if (question.questionType === 1) { // Single-choice question
      var selectedOptionId = parseInt($('input[name="Questions[' + index + '].SelectedOption"]:checked').val(), 10);
      response.SelectedOptionIDs.push(selectedOptionId);
    } else if (question.questionType === 2) { // Multiple-choice question
      $('input[name="Questions[' + index + '].SelectedOptions"]:checked').each(function() {
        response.SelectedOptionIDs.push(parseInt($(this).val(), 10));
      });
    }

    return response;
  });

  // Now, send the array of user responses to the server
  $.ajax({
    type: 'POST',
    url: '/YourController/CalculateScore', // Replace with your actual endpoint
    contentType: 'application/json',
    data: JSON.stringify(userResponses),
    success: function(data) {
      // Handle the score response from the server
      console.log('Your score is:', data.score);
    },
    error: function(error) {
      // Handle any errors
      console.error('Error:', error);
    }
  });
}
