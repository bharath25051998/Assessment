$(document).ready(function () {
    var courseId = @Model.FirstOrDefault()?.CourseID ?? 0;
    var $carousel = $('#moduleCarousel');
    var lastCompletedModuleId = @Model.LastOrDefault(m => m.ModuleID <= m.LastCompletedModuleId)?.ModuleID ?? 0;
    
    // Find the index of the module in the Model list that corresponds to the last completed module
    var startIndex = lastCompletedModuleId > 0 
        ? Model.findIndex(m => m.ModuleID === lastCompletedModuleId) + 1 
        : 0; // If no modules are completed, start from the first module (index 0)
    
    // Ensure startIndex does not exceed the number of modules
    startIndex = Math.min(startIndex, Model.length - 1);

    // Start the carousel at the module that comes after the last completed module
    $carousel.carousel(startIndex);

    // Rest of the script...
});
