$(document).ready(function() {
    var $carousel = $('#moduleCarousel');
    var $finishButton = $('.finish-course'); // The 'Finish' button

    // Initially hide or disable the 'Finish' button
    $finishButton.hide();

    // Event handler for checkbox change
    $('.module-complete-checkbox').change(function() {
        var $activeItem = $('.carousel-item.active');
        var isLastItem = ($activeItem.index() === $carousel.find('.carousel-item').length - 1);
        var isChecked = $(this).is(':checked');

        // Show and enable the 'Finish' button only if on the last slide and the checkbox is checked
        if (isLastItem && isChecked) {
            $finishButton.show();
        } else {
            $finishButton.hide();
        }
    });

    // Event handler for 'Finish' button click
    $finishButton.click(function() {
        // Logic to handle the final action
        console.log('Finish button clicked. Implement final save logic here.');
    });

    // Rest of the carousel logic...
});
