function calculateScore() {
    var score = 0;
    var totalQuestions = model.length; // Assuming 'model' is accessible and contains all questions and answers

    for (var i = 0; i < totalQuestions; i++) {
        var question = model[i];
        var questionType = question.questionType; // The type of question (1 for single, 2 for multiple choice)

        if (questionType === 1) {
            // Single choice question
            var userAnswer = $('input[name="Questions[' + i + '].SelectedOption"]:checked').val();
            if (userAnswer === question.correctAnswer) {
                score++;
            }
        } else if (questionType === 2) {
            // Multiple choice question
            var selectedAnswers = $('input[name="Questions[' + i + '].SelectedOption"]:checked').map(function() {
                return this.value;
            }).get();
            var correctAnswers = question.correctAnswers;
            // Check if selectedAnswers has the same elements as correctAnswers regardless of order
            if ($(correctAnswers).not(selectedAnswers).length === 0 && $(selectedAnswers).not(correctAnswers).length === 0) {
                score++;
            }
        }
    }
    return score;
}

$('#finishBtn').on('click', function() {
    var finalScore = calculateScore();
    // Do something with finalScore, like displaying it to the user or sending it to the server
    alert('Your final score is: ' + finalScore);
});

// Initialize the quiz
$(document).ready(function() {
    // ... rest of your initialization code
});
