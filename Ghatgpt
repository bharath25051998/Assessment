@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Send Email</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        function sendEmail() {
            var link = $('#sendEmailLink');
            if (link.hasClass('disabled')) {
                return; // If the link is already disabled, exit function
            }
            link.addClass('disabled'); // Add a class to disable the link
            $.ajax({
                url: '@Url.Action("SendEmail", "YourController")',
                type: 'POST',
                success: function (response) {
                    alert(response.message);
                    link.removeClass('disabled'); // Remove the class to enable the link
                },
                error: function (xhr, status, error) {
                    alert('An error occurred while sending email: ' + xhr.responseText);
                    link.removeClass('disabled'); // Remove the class to enable the link
                }
            });
        }
    </script>
    <style>
        .disabled {
            pointer-events: none; /* Disable pointer events */
            opacity: 0.5; /* Optionally, reduce opacity to visually indicate the link is disabled */
        }
    </style>
</head>
<body>
    <a id="sendEmailLink" href="#" onclick="sendEmail(); return false;">Send Email</a>
</body>
</html>
