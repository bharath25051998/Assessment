<script>
    function toggleDetails(cardId) {
        var card = document.getElementById(cardId);
        var details = card.querySelector('.additional-details');
        var arrowIcon = card.querySelector('.arrow-icon');
        var lobCard = card.closest('.Lob-card');

        if (details.style.display === 'none' || details.style.display === '') {
            // Show details of the clicked card
            details.style.display = 'block';
            // Change arrow to upwards
            arrowIcon.textContent = '\u25B2';
            // Mark card as expanded
            card.classList.add('expanded');
        } else {
            // Hide details of the clicked card
            details.style.display = 'none';
            // Change arrow to downwards
            arrowIcon.textContent = '\u25BC';
            // Remove expanded class
            card.classList.remove('expanded');
        }

        // Adjust position of other cards in the same .Lob-card container
        var otherCards = lobCard.querySelectorAll('.card');
        var cardIndex = Array.from(otherCards).indexOf(card);
        var totalOffset = 0;

        // Calculate total height of expanded cards above the current card
        for (var i = 0; i < cardIndex; i++) {
            if (otherCards[i].classList.contains('expanded')) {
                totalOffset += otherCards[i].offsetHeight;
            }
        }

        // Adjust positions of subsequent cards
        for (var i = cardIndex + 1; i < otherCards.length; i++) {
            var otherCard = otherCards[i];
            var offset = totalOffset;
            if (otherCard.classList.contains('expanded')) {
                offset += otherCard.offsetHeight;
            }
            otherCard.style.transform = 'translateY(' + offset + 'px)';
            totalOffset += otherCard.offsetHeight + 10;
        }
    }
</script>
