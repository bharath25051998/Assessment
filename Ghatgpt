SELECT 
    L.lobname,
    SUM(CASE WHEN U.headcount_band = 'Band1' THEN 1 ELSE 0 END) AS Band1_headcount,
    SUM(CASE WHEN U.headcount_band = 'Band2' THEN 1 ELSE 0 END) AS Band2_headcount,
    SUM(CASE WHEN U.headcount_band = 'Band3' THEN 1 ELSE 0 END) AS Band3_headcount
FROM 
    Lobs L
LEFT JOIN 
    UserLogin U ON L.lobid = U.lobid
GROUP BY 
    L.lobname;
